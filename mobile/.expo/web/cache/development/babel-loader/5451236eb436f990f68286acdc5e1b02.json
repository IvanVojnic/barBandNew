{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { onLoggedIn } from \"../core/api/API\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport PORT from \"../env.js\";\nimport { getAccessToken } from \"../core/api/API\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar API_URL = Platform.OS === 'ios' ? \"http://localhost:\" + PORT : \"http://localhost:\" + PORT;\n\nvar storeAccessToken = function () {\n  var _ref = _asyncToGenerator(function* (value) {\n    try {\n      yield AsyncStorage.setItem('accessToken', String(value));\n    } catch (e) {\n      console.log(e);\n    }\n  });\n\n  return function storeAccessToken(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar storeId = function () {\n  var _ref2 = _asyncToGenerator(function* (value) {\n    try {\n      yield AsyncStorage.setItem('userId', value);\n    } catch (e) {\n      console.log(e);\n    }\n  });\n\n  return function storeId(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar removeItemValue = function () {\n  var _ref3 = _asyncToGenerator(function* (key) {\n    try {\n      yield AsyncStorage.removeItem(key);\n      return true;\n    } catch (exception) {\n      console.log(\"except\" + exception);\n      return false;\n    }\n  });\n\n  return function removeItemValue(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar AuthScreen = function AuthScreen(_ref4) {\n  var navigation = _ref4.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isError = _useState8[0],\n      setIsError = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isLogin = _useState12[0],\n      setIsLogin = _useState12[1];\n\n  var onChangeHandler = function onChangeHandler() {\n    setIsLogin(!isLogin);\n    setMessage('');\n  };\n\n  useEffect(function () {\n    var loadData = function () {\n      var _ref5 = _asyncToGenerator(function* (token) {\n        var responseAuth = yield onLoggedIn(token);\n        console.log(responseAuth);\n\n        if (responseAuth) {\n          setIsError(false);\n          setMessage(\"hi\");\n\n          if (isLogin) {\n            console.log(\"navigate without login\");\n            navigation.navigate('MainScreen');\n          }\n        } else {\n          console.log(\"error in token\");\n          yield removeItemValue('accessToken');\n          setMessage(\"not hi\");\n          setIsError(true);\n        }\n      });\n\n      return function loadData(_x4) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    var getToken = function () {\n      var _ref6 = _asyncToGenerator(function* () {\n        var token = yield getAccessToken();\n\n        if (token != null && token != undefined && token != \"\") {\n          yield loadData(token);\n        }\n      });\n\n      return function getToken() {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    getToken();\n  }, []);\n\n  var onSubmitHandler = function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      var payload = {\n        email: email,\n        name: name,\n        password: password\n      };\n      var res = yield fetch(API_URL + \"/\" + (isLogin ? 'login' : 'signup'), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n\n      try {\n        console.log(\"login result\");\n        var jsonRes = yield res.json();\n        console.log(jsonRes);\n\n        if (res.status !== 200) {\n          setIsError(true);\n          setMessage(jsonRes.message);\n        } else {\n          onLoggedIn(jsonRes.token).then(function () {\n            var _ref8 = _asyncToGenerator(function* (respAuth) {\n              respAuth = yield respAuth.json();\n              console.log(\"response after login api\");\n              console.log(respAuth);\n\n              if (respAuth.checkAuth) {\n                console.log(\"check auth = true\");\n                setIsError(false);\n                yield storeId(String(jsonRes.id));\n                console.log(\"user id\" + jsonRes.id);\n                yield storeAccessToken(jsonRes.token);\n                setMessage(respAuth.message);\n                console.log(\"message from login api\" + message);\n\n                if (isLogin) {\n                  navigation.navigate('MainScreen');\n                }\n              } else {\n                console.log(\"error while login\");\n                setMessage(jsonRes.message);\n                setIsError(true);\n              }\n            });\n\n            return function (_x5) {\n              return _ref8.apply(this, arguments);\n            };\n          }()).catch(function (er) {\n            console.log(\"er\");\n            console.log(er);\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    });\n\n    return function onSubmitHandler() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  return _jsx(View, {\n    children: _jsxs(View, {\n      style: styles.card,\n      children: [_jsx(Text, {\n        style: styles.heading,\n        children: isLogin ? 'Login' : 'Signup'\n      }), _jsx(View, {\n        style: styles.form,\n        children: _jsxs(View, {\n          style: styles.inputs,\n          children: [_jsx(TextInput, {\n            style: styles.input,\n            placeholder: \"Email\",\n            autoCapitalize: \"none\",\n            onChangeText: setEmail\n          }), !isLogin && _jsx(TextInput, {\n            style: styles.input,\n            placeholder: \"Name\",\n            onChangeText: setName\n          }), _jsx(TextInput, {\n            secureTextEntry: true,\n            style: styles.input,\n            placeholder: \"Password\",\n            onChangeText: setPassword\n          }), _jsx(Text, {\n            style: [styles.message, {\n              color: isError ? 'red' : 'green'\n            }],\n            children: message\n          }), _jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: onSubmitHandler,\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Done\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.buttonAlt,\n            onPress: onChangeHandler,\n            children: _jsx(Text, {\n              style: styles.buttonAltText,\n              children: isLogin ? 'Sign Up' : 'Log In'\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  image: {\n    flex: 1,\n    width: '100%',\n    alignItems: 'center'\n  },\n  card: {\n    flex: 1,\n    backgroundColor: 'rgba(255, 255, 255, 0.4)',\n    width: '80%',\n    marginTop: '40%',\n    borderRadius: 20,\n    maxHeight: 380,\n    paddingBottom: '30%'\n  },\n  heading: {\n    fontSize: 30,\n    fontWeight: 'bold',\n    marginLeft: '10%',\n    marginTop: '5%',\n    marginBottom: '30%',\n    color: 'black'\n  },\n  form: {\n    flex: 1,\n    justifyContent: 'space-between',\n    paddingBottom: '5%'\n  },\n  inputs: {\n    width: '100%',\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: '10%'\n  },\n  input: {\n    width: '80%',\n    borderBottomWidth: 1,\n    borderBottomColor: 'black',\n    paddingTop: 10,\n    fontSize: 16,\n    minHeight: 40\n  },\n  button: {\n    width: '80%',\n    backgroundColor: 'black',\n    height: 40,\n    borderRadius: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  buttonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: '400'\n  },\n  buttonAlt: {\n    width: '80%',\n    borderWidth: 1,\n    height: 40,\n    borderRadius: 50,\n    borderColor: 'black',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  buttonAltText: {\n    color: 'black',\n    fontSize: 16,\n    fontWeight: '400'\n  },\n  message: {\n    fontSize: 16,\n    marginVertical: '5%'\n  }\n});\nexport default AuthScreen;","map":{"version":3,"names":["React","useEffect","useState","onLoggedIn","AsyncStorage","PORT","getAccessToken","API_URL","Platform","OS","storeAccessToken","value","setItem","String","e","console","log","storeId","removeItemValue","key","removeItem","exception","AuthScreen","navigation","email","setEmail","name","setName","password","setPassword","isError","setIsError","message","setMessage","isLogin","setIsLogin","onChangeHandler","loadData","token","responseAuth","navigate","getToken","undefined","onSubmitHandler","payload","res","fetch","method","headers","body","JSON","stringify","jsonRes","json","status","then","respAuth","checkAuth","id","catch","er","err","styles","card","heading","form","inputs","input","color","button","buttonText","buttonAlt","buttonAltText","StyleSheet","create","image","flex","width","alignItems","backgroundColor","marginTop","borderRadius","maxHeight","paddingBottom","fontSize","fontWeight","marginLeft","marginBottom","justifyContent","paddingTop","borderBottomWidth","borderBottomColor","minHeight","height","marginVertical","borderWidth","borderColor"],"sources":["/Users/apple/Documents/Programming/barBandNew/mobile/screens/AuthScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, TextInput, Platform } from 'react-native';\nimport {onLoggedIn} from '../core/api/API'\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport PORT from \"../env.js\";\nimport {getAccessToken} from \"../core/api/API\";\n\nconst API_URL = Platform.OS === 'ios' ? `http://localhost:${PORT}` : `http://localhost:${PORT}`;\n\nconst storeAccessToken = async (value) => {\n    try {\n        await AsyncStorage.setItem('accessToken', String(value))\n    } catch (e) {\n        console.log(e)\n    }\n}\n\nconst storeId = async (value) => {\n    try {\n        await AsyncStorage.setItem('userId', value)\n    } catch (e) {\n        console.log(e)\n    }\n}\n\nconst removeItemValue = async (key) => {\n    try {\n        await AsyncStorage.removeItem(key);\n        return true;\n    }\n    catch(exception) {\n        console.log(\"except\" + exception)\n        return false;\n    }\n}\n\nconst AuthScreen = ({navigation}) => {\n\n    const [email, setEmail] = useState('');\n    const [name, setName] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [isError, setIsError] = useState(false);\n    const [message, setMessage] = useState('');\n    const [isLogin, setIsLogin] = useState(true);\n\n    const onChangeHandler = () => {\n        setIsLogin(!isLogin);\n        setMessage('');\n    };\n\n    useEffect( () => {\n        const loadData = async (token) => {\n            let responseAuth = await onLoggedIn(token)\n            console.log(responseAuth)\n            if (responseAuth){\n                setIsError(false);\n                setMessage(\"hi\");\n                if(isLogin){\n                    console.log(\"navigate without login\")\n                    navigation.navigate('MainScreen');\n                }\n            } else {\n                console.log(\"error in token\")\n                await removeItemValue('accessToken')\n                setMessage(\"not hi\");\n                setIsError(true);\n            }\n        }\n        const getToken = async () => {\n            const token = await getAccessToken();\n            if (token != null && token != undefined && token != \"\") {\n                await loadData(token)\n            }\n        }\n        getToken()\n    },[])\n\n    const onSubmitHandler = async () => {\n        const payload = {\n            email,\n            name,\n            password,\n        };\n        const res = await fetch(`${API_URL}/${isLogin ? 'login' : 'signup'}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(payload),\n        })\n        try {\n            console.log(\"login result\")\n            const jsonRes = await res.json();\n            console.log(jsonRes)\n            if (res.status !== 200) {\n                setIsError(true);\n                setMessage(jsonRes.message);\n            } else {\n                    onLoggedIn(jsonRes.token).then(async (respAuth) => {\n                    respAuth = await respAuth.json()\n                    console.log(\"response after login api\")\n                    console.log(respAuth)\n                    if (respAuth.checkAuth) {\n                        console.log(\"check auth = true\")\n                        setIsError(false);\n                        await storeId(String(jsonRes.id))\n                        console.log(\"user id\" + jsonRes.id)\n                        await storeAccessToken(jsonRes.token)\n                        setMessage(respAuth.message);\n                        console.log(\"message from login api\" + message)\n                        if(isLogin){\n                            navigation.navigate('MainScreen');\n                        }\n                    } else {\n                        console.log(\"error while login\")\n                        setMessage(jsonRes.message);\n                        setIsError(true);\n                    }\n                }).catch((er) => {\n                    console.log(\"er\")\n                    console.log(er)\n                })\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    };\n\n    return (\n        <View>\n            <View style={styles.card}>\n                <Text style={styles.heading}>{isLogin ? 'Login' : 'Signup'}</Text>\n                <View style={styles.form}>\n                    <View style={styles.inputs}>\n                        <TextInput style={styles.input} placeholder=\"Email\" autoCapitalize=\"none\" onChangeText={setEmail}></TextInput>\n                        {!isLogin && <TextInput style={styles.input} placeholder=\"Name\" onChangeText={setName}></TextInput>}\n                        <TextInput secureTextEntry={true} style={styles.input} placeholder=\"Password\" onChangeText={setPassword}></TextInput>\n                        <Text style={[styles.message, {color: isError ? 'red' : 'green'}]}>{message}</Text>\n                        <TouchableOpacity style={styles.button} onPress={onSubmitHandler}>\n                            <Text style={styles.buttonText}>Done</Text>\n                        </TouchableOpacity>\n                        <TouchableOpacity style={styles.buttonAlt} onPress={onChangeHandler}>\n                            <Text style={styles.buttonAltText}>{isLogin ? 'Sign Up' : 'Log In'}</Text>\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            </View>\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    image: {\n        flex: 1,\n        width: '100%',\n        alignItems: 'center',\n    },\n    card: {\n        flex: 1,\n        backgroundColor: 'rgba(255, 255, 255, 0.4)',\n        width: '80%',\n        marginTop: '40%',\n        borderRadius: 20,\n        maxHeight: 380,\n        paddingBottom: '30%',\n    },\n    heading: {\n        fontSize: 30,\n        fontWeight: 'bold',\n        marginLeft: '10%',\n        marginTop: '5%',\n        marginBottom: '30%',\n        color: 'black',\n    },\n    form: {\n        flex: 1,\n        justifyContent: 'space-between',\n        paddingBottom: '5%',\n    },\n    inputs: {\n        width: '100%',\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingTop: '10%',\n    },\n    input: {\n        width: '80%',\n        borderBottomWidth: 1,\n        borderBottomColor: 'black',\n        paddingTop: 10,\n        fontSize: 16,\n        minHeight: 40,\n    },\n    button: {\n        width: '80%',\n        backgroundColor: 'black',\n        height: 40,\n        borderRadius: 50,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginVertical: 5,\n    },\n    buttonText: {\n        color: 'white',\n        fontSize: 16,\n        fontWeight: '400'\n    },\n    buttonAlt: {\n        width: '80%',\n        borderWidth: 1,\n        height: 40,\n        borderRadius: 50,\n        borderColor: 'black',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginVertical: 5,\n    },\n    buttonAltText: {\n        color: 'black',\n        fontSize: 16,\n        fontWeight: '400',\n    },\n    message: {\n        fontSize: 16,\n        marginVertical: '5%',\n    },\n});\n\nexport default AuthScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}