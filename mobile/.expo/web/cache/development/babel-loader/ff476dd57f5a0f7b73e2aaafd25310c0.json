{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043B\\u0435\\u0442\\u043E\\u043C 2022\\\\work2\\\\barband\\\\mobile\\\\screens\\\\friends\\\\addFriend.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { stylesFriend } from \"../../assets/stylesFriends\";\nimport { requestFindFriends } from \"../../core/api/API\";\n\nvar AddFriend = function AddFriend(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      newFriend = _useState2[0],\n      setNewFriend = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isNewFriendLoaded = _useState4[0],\n      setIsNewFriendLoaded = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isFindFriendPressed = _useState6[0],\n      setIsFindFriendPressed = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isSendRequest = _useState8[0],\n      setIsSendRequest = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      email = _useState10[0],\n      onChangeEmail = _useState10[1];\n\n  useEffect(function () {\n    console.log(email);\n  }, [email]);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    requestFindFriends(email).then(function (response) {\n      if (response === 0) {\n        setIsNewFriendLoaded(false);\n      } else {\n        setNewFriend(response);\n        console.log(response);\n        setIsNewFriendLoaded(true);\n      }\n\n      setIsFindFriendPressed(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Find Friend\"), React.createElement(TextInput, {\n    style: stylesFriend.input,\n    placeholder: \"Ivanov\",\n    onChange: function onChange() {\n      onChangeEmail(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Find\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  })), isFindFriendPressed ? isNewFriendLoaded ? React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 60\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, React.createElement(\"form\", {\n    onSubmit: function onSubmit() {\n      setIsSendRequest(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, React.createElement(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 37\n    }\n  }, \"\" + newFriend.name), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Add Friend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }))))) : React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  }, \"friend not found\") : React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 59\n    }\n  }));\n};\n\nexport default AddFriend;","map":{"version":3,"names":["React","useEffect","useState","stylesFriend","requestFindFriends","AddFriend","navigation","newFriend","setNewFriend","isNewFriendLoaded","setIsNewFriendLoaded","isFindFriendPressed","setIsFindFriendPressed","isSendRequest","setIsSendRequest","email","onChangeEmail","console","log","handleSubmit","e","preventDefault","then","response","catch","error","input","event","target","value","name"],"sources":["D:/проекты летом 2022/work2/barband/mobile/screens/friends/addFriend.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {View, TextInput, Text} from \"react-native\";\r\nimport {stylesFriend} from \"../../assets/stylesFriends\";\r\nimport {requestFindFriends} from \"../../core/api/API\"\r\n\r\nconst AddFriend = ({navigation}) => {\r\n    //const [search, setSearch] = useState(false)\r\n    const [newFriend, setNewFriend] = useState(null)\r\n    const [isNewFriendLoaded, setIsNewFriendLoaded] = useState(false)\r\n    const [isFindFriendPressed, setIsFindFriendPressed] = useState(false)\r\n    const [isSendRequest, setIsSendRequest] = useState(null)\r\n    const [email, onChangeEmail] = useState(\"\");\r\n\r\n   /* useEffect(() => {\r\n        if (search) {\r\n            requestFindFriends(email).then((response) => {\r\n                 if (response === 0) {\r\n                    setIsNewFriendLoaded(false)\r\n                } else {\r\n                    setNewFriend(response)\r\n                    console.log(response);\r\n                    setIsNewFriendLoaded(true)\r\n                }\r\n                setIsFindFriendPressed(true)\r\n            }).catch(error => {\r\n                console.log(error);\r\n            })\r\n        }\r\n        setSearch(false)\r\n    }, [search])*/\r\n\r\n    useEffect(() => {\r\n        console.log(email)\r\n    }, [email])\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        requestFindFriends(email).then((response) => {\r\n            if (response === 0) {\r\n                setIsNewFriendLoaded(false)\r\n            } else {\r\n                setNewFriend(response)\r\n                console.log(response);\r\n                setIsNewFriendLoaded(true)\r\n            }\r\n            setIsFindFriendPressed(true)\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n/*\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/addFriend\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    if (result === 0) {\r\n\r\n                    } else {\r\n\r\n                    }\r\n                },\r\n            )\r\n    }, [isSendRequest])*/\r\n\r\n    return (\r\n            <View>\r\n                <form onSubmit={handleSubmit}>\r\n                    <View>\r\n                        <Text>Find Friend</Text>\r\n                        <TextInput style={stylesFriend.input} placeholder=\"Ivanov\" onChange={() => {onChangeEmail(event.target.value)}}/>\r\n                    </View>\r\n                    <input type=\"submit\" value=\"Find\"/>\r\n                </form>\r\n                {isFindFriendPressed ? isNewFriendLoaded ? <View>\r\n                    {\r\n                        <View>\r\n                            <form onSubmit={() => {setIsSendRequest(true)}}>\r\n                                <label>\r\n                                    <Text>{`${newFriend.name}`}</Text>\r\n                                    <input type=\"submit\" value=\"Add Friend\"/>\r\n                                </label>\r\n                            </form>\r\n                        </View>\r\n                    }\r\n                </View> : <span>friend not found</span> : <div></div>}\r\n            </View>\r\n        )\r\n}\r\n\r\nexport default AddFriend\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}