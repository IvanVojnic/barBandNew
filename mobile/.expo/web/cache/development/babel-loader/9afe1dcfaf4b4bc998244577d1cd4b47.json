{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { stylesFriend } from \"../../assets/stylesFriends\";\nimport { findFriends, sendRequest } from \"../../core/api/API\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddFriend = function AddFriend() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    newFriend = _useState2[0],\n    setNewFriend = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    newFriendId = _useState4[0],\n    setNewFriendId = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isNewFriendLoaded = _useState6[0],\n    setIsNewFriendLoaded = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isFindFriendPressed = _useState8[0],\n    setIsFindFriendPressed = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    email = _useState10[0],\n    onChangeEmail = _useState10[1];\n  var findSubmit = function findSubmit(e) {\n    e.preventDefault();\n    findFriends(email).then(function (response) {\n      if (response === 0) {\n        setIsNewFriendLoaded(false);\n      } else {\n        setNewFriend(response);\n        setNewFriendId(response.id);\n        console.log(response);\n        setIsNewFriendLoaded(true);\n      }\n      setIsFindFriendPressed(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  var requestSubmit = function requestSubmit(e) {\n    e.preventDefault();\n    sendRequest(newFriendId).then(function (response) {\n      console.log(response);\n      alert(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  return _jsxs(View, {\n    children: [_jsxs(\"form\", {\n      onSubmit: findSubmit,\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Find Friend\"\n        }), _jsx(TextInput, {\n          style: stylesFriend.input,\n          placeholder: \"Ivanov\",\n          onChange: function onChange() {\n            onChangeEmail(event.target.value);\n          }\n        })]\n      }), _jsx(\"input\", {\n        type: \"submit\",\n        value: \"Find\"\n      })]\n    }), isFindFriendPressed ? isNewFriendLoaded ? _jsx(View, {\n      children: _jsx(View, {\n        children: _jsx(\"form\", {\n          onSubmit: requestSubmit,\n          children: _jsxs(\"label\", {\n            children: [_jsx(Text, {\n              children: \"\" + newFriend.name\n            }), _jsx(\"input\", {\n              type: \"submit\",\n              value: \"Add Friend\"\n            })]\n          })\n        })\n      })\n    }) : _jsx(View, {\n      children: \"friend not found\"\n    }) : _jsx(View, {})]\n  });\n};\nexport default AddFriend;","map":{"version":3,"names":["React","useEffect","useState","stylesFriend","findFriends","sendRequest","AddFriend","newFriend","setNewFriend","newFriendId","setNewFriendId","isNewFriendLoaded","setIsNewFriendLoaded","isFindFriendPressed","setIsFindFriendPressed","email","onChangeEmail","findSubmit","e","preventDefault","then","response","id","console","log","catch","error","requestSubmit","alert","input","event","target","value","name"],"sources":["C:/Users/MyPC/WebstormProjects/barBandNew/mobile/screens/friends/addFriend.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {View, TextInput, Text} from \"react-native\";\r\nimport {stylesFriend} from \"../../assets/stylesFriends\";\r\nimport {findFriends, sendRequest} from \"../../core/api/API\"\r\n\r\nconst AddFriend = () => {\r\n    const [newFriend, setNewFriend] = useState(null)\r\n    const [newFriendId, setNewFriendId] = useState(null)\r\n    const [isNewFriendLoaded, setIsNewFriendLoaded] = useState(false)\r\n    const [isFindFriendPressed, setIsFindFriendPressed] = useState(false)\r\n    const [email, onChangeEmail] = useState(\"\");\r\n\r\n    const findSubmit = (e) => {\r\n        e.preventDefault();\r\n        findFriends(email).then((response) => {\r\n            if (response === 0) {\r\n                setIsNewFriendLoaded(false)\r\n            } else {\r\n                setNewFriend(response)\r\n                setNewFriendId(response.id)\r\n                console.log(response);\r\n                setIsNewFriendLoaded(true)\r\n            }\r\n            setIsFindFriendPressed(true)\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    const requestSubmit = (e) => {\r\n        e.preventDefault();\r\n        sendRequest(newFriendId).then((response) => {\r\n            console.log(response);\r\n            alert(response);\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    return (\r\n            <View>\r\n                <form onSubmit={findSubmit}>\r\n                    <View>\r\n                        <Text>Find Friend</Text>\r\n                        <TextInput style={stylesFriend.input} placeholder=\"Ivanov\" onChange={() => {onChangeEmail(event.target.value)}}/>\r\n                    </View>\r\n                    <input type=\"submit\" value=\"Find\"/>\r\n                </form>\r\n                {isFindFriendPressed ? isNewFriendLoaded ? <View>\r\n                    {\r\n                        <View>\r\n                            <form onSubmit={requestSubmit}>\r\n                                <label>\r\n                                    <Text>{`${newFriend.name}`}</Text>\r\n                                    <input type=\"submit\" value=\"Add Friend\"/>\r\n                                </label>\r\n                            </form>\r\n                        </View>\r\n                    }\r\n                </View> : <View>friend not found</View> : <View></View>}\r\n            </View>\r\n        )\r\n}\r\n\r\nexport default AddFriend\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC;AAAA;AAAA;AAEjD,SAAQC,YAAY;AACpB,SAAQC,WAAW,EAAEC,WAAW;AAA2B;AAAA;AAE3D,IAAMC,SAAS,GAAG,SAAZA,SAAS,GAAS;EACpB,gBAAkCJ,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAzCK,SAAS;IAAEC,YAAY;EAC9B,iBAAsCN,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA7CO,WAAW;IAAEC,cAAc;EAClC,iBAAkDR,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1DS,iBAAiB;IAAEC,oBAAoB;EAC9C,iBAAsDV,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA9DW,mBAAmB;IAAEC,sBAAsB;EAClD,iBAA+BZ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAApCa,KAAK;IAAEC,aAAa;EAE3B,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,CAAC,EAAK;IACtBA,CAAC,CAACC,cAAc,EAAE;IAClBf,WAAW,CAACW,KAAK,CAAC,CAACK,IAAI,CAAC,UAACC,QAAQ,EAAK;MAClC,IAAIA,QAAQ,KAAK,CAAC,EAAE;QAChBT,oBAAoB,CAAC,KAAK,CAAC;MAC/B,CAAC,MAAM;QACHJ,YAAY,CAACa,QAAQ,CAAC;QACtBX,cAAc,CAACW,QAAQ,CAACC,EAAE,CAAC;QAC3BC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;QACrBT,oBAAoB,CAAC,IAAI,CAAC;MAC9B;MACAE,sBAAsB,CAAC,IAAI,CAAC;IAChC,CAAC,CAAC,CAACW,KAAK,CAAC,UAAAC,KAAK,EAAI;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EAED,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIT,CAAC,EAAK;IACzBA,CAAC,CAACC,cAAc,EAAE;IAClBd,WAAW,CAACI,WAAW,CAAC,CAACW,IAAI,CAAC,UAACC,QAAQ,EAAK;MACxCE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrBO,KAAK,CAACP,QAAQ,CAAC;IACnB,CAAC,CAAC,CAACI,KAAK,CAAC,UAAAC,KAAK,EAAI;MACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EAED,OACQ,MAAC,IAAI;IAAA,WACD;MAAM,QAAQ,EAAET,UAAW;MAAA,WACvB,MAAC,IAAI;QAAA,WACD,KAAC,IAAI;UAAA,UAAC;QAAW,EAAO,EACxB,KAAC,SAAS;UAAC,KAAK,EAAEd,YAAY,CAAC0B,KAAM;UAAC,WAAW,EAAC,QAAQ;UAAC,QAAQ,EAAE,oBAAM;YAACb,aAAa,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;UAAA;QAAE,EAAE;MAAA,EAC9G,EACP;QAAO,IAAI,EAAC,QAAQ;QAAC,KAAK,EAAC;MAAM,EAAE;IAAA,EAChC,EACNnB,mBAAmB,GAAGF,iBAAiB,GAAG,KAAC,IAAI;MAAA,UAExC,KAAC,IAAI;QAAA,UACD;UAAM,QAAQ,EAAEgB,aAAc;UAAA,UAC1B;YAAA,WACI,KAAC,IAAI;cAAA,eAAKpB,SAAS,CAAC0B;YAAI,EAAU,EAClC;cAAO,IAAI,EAAC,QAAQ;cAAC,KAAK,EAAC;YAAY,EAAE;UAAA;QACrC;MACL;IACJ,EAER,GAAG,KAAC,IAAI;MAAA,UAAC;IAAgB,EAAO,GAAG,KAAC,IAAI,KAAQ;EAAA,EACpD;AAEnB,CAAC;AAED,eAAe3B,SAAS"},"metadata":{},"sourceType":"module"}