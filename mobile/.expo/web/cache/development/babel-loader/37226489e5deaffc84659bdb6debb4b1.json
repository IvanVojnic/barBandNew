{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043B\\u0435\\u0442\\u043E\\u043C 2022\\\\work2\\\\barband\\\\mobile\\\\screens\\\\RoomsScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { getRooms, acceptInvite } from \"../core/api/API\";\n\nvar Rooms = function Rooms(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rooms = _useState2[0],\n      setRooms = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isRoomsLoaded = _useState4[0],\n      setIsRoomsLoaded = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      statusAccepted = _useState6[0],\n      setStatusAccepted = _useState6[1];\n\n  useEffect(function () {\n    var loadData = function loadData() {\n      return _regeneratorRuntime.async(function loadData$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              getRooms().then(function _callee(response) {\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        console.log(response);\n                        _context.next = 3;\n                        return _regeneratorRuntime.awrap(setRooms(response.rooms));\n\n                      case 3:\n                        console.log(rooms);\n                        console.log(typeof rooms);\n                        setIsRoomsLoaded(true);\n\n                      case 6:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (e) {\n                console.log(e);\n              });\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    loadData();\n  }, []);\n\n  var InviteSubmit = function InviteSubmit(roomId, status) {\n    console.log(roomId);\n    console.log(status);\n    acceptInvite(roomId, status).then(function (response) {\n      alert(response);\n    }).catch(function (e) {\n      console.log(e);\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, isRoomsLoaded && React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 38\n    }\n  }, rooms.map(function (room) {\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 33\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 37\n      }\n    }, \"\\u041C\\u0435\\u0441\\u0442\\u043E:\", room.room.place), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 37\n      }\n    }, \"\\u0412\\u0440\\u0435\\u043C\\u044F:\", room.room.date), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }\n    }, \"\\u0418\\u043C\\u044F \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044F \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\\u044B:\", room.room.name), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 37\n      }\n    }, \"\\u041F\\u043E\\u0447\\u0442\\u0430 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0442\\u0435\\u043B\\u044F \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\\u044B:\", room.room.email), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 37\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 41\n      }\n    }, \"\\u041F\\u0440\\u0438\\u0433\\u043B\\u0430\\u0448\\u0435\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438:\"), room.users.map(function (user) {\n      return React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 49\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 53\n        }\n      }, \"\\u0418\\u043C\\u044F:\", user.name), React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 53\n        }\n      }, \"\\u041F\\u043E\\u0447\\u0442\\u0430:\", user.email));\n    })), React.createElement(Button, {\n      title: \"Yes\",\n      onPress: function onPress() {\n        InviteSubmit(room.room.id, 1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    }), React.createElement(Button, {\n      title: \"No\",\n      onPress: function onPress() {\n        InviteSubmit(room.room.id, -1);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }));\n  }))));\n};\n\nexport default Rooms;","map":{"version":3,"names":["React","useEffect","useState","getRooms","acceptInvite","Rooms","navigation","rooms","setRooms","isRoomsLoaded","setIsRoomsLoaded","statusAccepted","setStatusAccepted","loadData","then","response","console","log","catch","e","InviteSubmit","roomId","status","alert","map","room","place","date","name","email","users","user","id"],"sources":["D:/проекты летом 2022/work2/barband/mobile/screens/RoomsScreen.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {StyleSheet, View, Text, Button, TouchableOpacity} from \"react-native\";\r\nimport {getRooms, acceptInvite} from \"../core/api/API\";\r\n\r\nconst Rooms = ({navigation}) => {\r\n\r\n    const [rooms, setRooms] = useState([]);\r\n    const [isRoomsLoaded, setIsRoomsLoaded] = useState(false);\r\n    const [statusAccepted, setStatusAccepted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () =>{\r\n            getRooms().then(async (response) => {\r\n                console.log(response)\r\n                await setRooms(response.rooms)\r\n                console.log(rooms)\r\n                console.log(typeof rooms)\r\n                setIsRoomsLoaded(true)\r\n            }).catch((e) => {\r\n                console.log(e)\r\n            })\r\n        }\r\n       loadData()\r\n    }, [])\r\n\r\n\r\n    const InviteSubmit = (roomId, status) => {\r\n        console.log(roomId);\r\n        console.log(status);\r\n        acceptInvite(roomId, status).then((response) => {\r\n            alert(response)\r\n        }).catch((e) => {\r\n            console.log(e)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <View>\r\n            <View>\r\n                {\r\n                    isRoomsLoaded && <View>\r\n                        {\r\n                            rooms.map((room) => (\r\n                                <View>\r\n                                    <View>Место:{room.room.place}</View>\r\n                                    <View>Время:{room.room.date}</View>\r\n                                    <View>Имя создателя комнаты:{room.room.name}</View>\r\n                                    <View>Почта создателя комнаты:{room.room.email}</View>\r\n                                    <View>\r\n                                        <View>Приглашенные пользователи:</View>\r\n                                        {\r\n                                            room.users.map((user) => (\r\n                                                <View>\r\n                                                    <View>Имя:{user.name}</View>\r\n                                                    <View>Почта:{user.email}</View>\r\n                                                </View>\r\n                                            ))\r\n                                        }\r\n                                    </View>\r\n                                    <Button title={\"Yes\"} onPress={() => {InviteSubmit(room.room.id, 1)}}/>\r\n                                    <Button title={\"No\"} onPress={() => {InviteSubmit(room.room.id, -1)}}/>\r\n                                </View>\r\n                            ))\r\n                        }\r\n                    </View>\r\n                }\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default Rooms;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}