{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\\\u043F\\u0440\\u043E\\u0435\\u043A\\u0442\\u044B \\u043B\\u0435\\u0442\\u043E\\u043C 2022\\\\work2\\\\barband\\\\mobile\\\\screens\\\\friends\\\\addFriend.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { stylesFriend } from \"../../assets/stylesFriends\";\nimport { requestFindFriends } from \"../../core/api/API\";\n\nvar AddFriend = function AddFriend() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newFriend = _useState4[0],\n      setNewFriend = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isNewFriendLoaded = _useState6[0],\n      setIsNewFriendLoaded = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isFindFriendPressed = _useState8[0],\n      setIsFindFriendPressed = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      isSendRequest = _useState10[0],\n      setIsSendRequest = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      email = _useState12[0],\n      onChangeEmail = _useState12[1];\n\n  useEffect(function () {\n    if (search) {\n      requestFindFriends(email).then(function (response) {\n        if (response === 0) {\n          setIsNewFriendLoaded(false);\n        } else {\n          setNewFriend(response);\n          console.log(response);\n          setIsNewFriendLoaded(true);\n        }\n\n        setIsFindFriendPressed(true);\n      }).catch(function (error) {\n        alert(error);\n      });\n    }\n\n    setSearch(false);\n  }, [search]);\n  useEffect(function () {\n    console.log(email);\n  }, [email]);\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, React.createElement(\"form\", {\n    onSubmit: function onSubmit() {\n      setSearch(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, \"Find Friend\"), React.createElement(TextInput, {\n    style: stylesFriend.input,\n    placeholder: \"Ivanov\",\n    onChange: function onChange() {\n      onChangeEmail(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Find\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  })), isFindFriendPressed ? isNewFriendLoaded ? React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 60\n    }\n  }, newFriend.map(function (newItem) {\n    return React.createElement(\"li\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, React.createElement(\"form\", {\n      onSubmit: function onSubmit() {\n        setIsSendRequest(true);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, React.createElement(\"label\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 33\n      }\n    }, \"\" + newItem.name, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add Friend\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 37\n      }\n    }))));\n  })) : React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 27\n    }\n  }, \"friend not found\") : React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 59\n    }\n  }));\n};\n\nexport default AddFriend;","map":{"version":3,"names":["React","useEffect","useState","stylesFriend","requestFindFriends","AddFriend","search","setSearch","newFriend","setNewFriend","isNewFriendLoaded","setIsNewFriendLoaded","isFindFriendPressed","setIsFindFriendPressed","isSendRequest","setIsSendRequest","email","onChangeEmail","then","response","console","log","catch","error","alert","input","event","target","value","map","newItem","name"],"sources":["D:/проекты летом 2022/work2/barband/mobile/screens/friends/addFriend.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {View, TextInput, Text} from \"react-native\";\r\nimport {stylesFriend} from \"../../assets/stylesFriends\";\r\nimport {requestFindFriends} from \"../../core/api/API\"\r\n\r\nconst AddFriend = () => {\r\n    const [search, setSearch] = useState(false)\r\n    const [newFriend, setNewFriend] = useState([])\r\n    const [isNewFriendLoaded, setIsNewFriendLoaded] = useState(null)\r\n    const [isFindFriendPressed, setIsFindFriendPressed] = useState(false)\r\n    const [isSendRequest, setIsSendRequest] = useState(null)\r\n    const [email, onChangeEmail] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (search) {\r\n            requestFindFriends(email).then((response) => {\r\n                 if (response === 0) {\r\n                    setIsNewFriendLoaded(false)\r\n                } else {\r\n                    setNewFriend(response)\r\n                    console.log(response);\r\n                    setIsNewFriendLoaded(true)\r\n                }\r\n                setIsFindFriendPressed(true)\r\n            }).catch(error => {\r\n                alert(error);\r\n            })\r\n        }\r\n        setSearch(false)\r\n    }, [search])\r\n\r\n    useEffect(() => {\r\n        console.log(email)\r\n    }, [email])\r\n/*\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/addFriend\")\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    if (result === 0) {\r\n\r\n                    } else {\r\n\r\n                    }\r\n                },\r\n            )\r\n    }, [isSendRequest])*/\r\n\r\n    return (\r\n            <View>\r\n                <form onSubmit={() => {setSearch(true)}}>\r\n                    <View>\r\n                        <Text>Find Friend</Text>\r\n                        <TextInput style={stylesFriend.input} placeholder=\"Ivanov\" onChange={() => {onChangeEmail(event.target.value)}}/>\r\n                    </View>\r\n                    <input type=\"submit\" value=\"Find\"/>\r\n                </form>\r\n                {isFindFriendPressed ? isNewFriendLoaded ? <View>\r\n                    {\r\n                        newFriend.map((newItem) => (\r\n                        <li>\r\n                            <form onSubmit={() => {setIsSendRequest(true)}}>\r\n                                <label>\r\n                                    {`${newItem.name}`}\r\n                                    <input type=\"submit\" value=\"Add Friend\"/>\r\n                                </label>\r\n                            </form>\r\n                        </li>\r\n                    ))}\r\n                </View> : <span>friend not found</span> : <div></div>}\r\n            </View>\r\n        )\r\n}\r\n\r\nexport default AddFriend\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}