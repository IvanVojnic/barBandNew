{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { stylesFriend } from \"../../assets/stylesFriends\";\nimport { findFriends, sendRequest } from \"../../core/api/API\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar AddFriend = function AddFriend() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      newFriend = _useState2[0],\n      setNewFriend = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newFriendId = _useState4[0],\n      setNewFriendId = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isNewFriendLoaded = _useState6[0],\n      setIsNewFriendLoaded = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isFindFriendPressed = _useState8[0],\n      setIsFindFriendPressed = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      email = _useState10[0],\n      onChangeEmail = _useState10[1];\n\n  var findSubmit = function findSubmit(e) {\n    e.preventDefault();\n    findFriends(email).then(function (response) {\n      if (response === 0) {\n        setIsNewFriendLoaded(false);\n      } else {\n        setNewFriend(response);\n        setNewFriendId(response.id);\n        console.log(response);\n        setIsNewFriendLoaded(true);\n      }\n\n      setIsFindFriendPressed(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var requestSubmit = function requestSubmit(e) {\n    e.preventDefault();\n    sendRequest(newFriendId).then(function (response) {\n      console.log(response);\n      alert(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return _jsxs(View, {\n    children: [_jsxs(\"form\", {\n      onSubmit: findSubmit,\n      children: [_jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Find Friend\"\n        }), _jsx(TextInput, {\n          style: stylesFriend.input,\n          placeholder: \"Ivanov\",\n          onChange: function onChange() {\n            onChangeEmail(event.target.value);\n          }\n        })]\n      }), _jsx(\"input\", {\n        type: \"submit\",\n        value: \"Find\"\n      })]\n    }), isFindFriendPressed ? isNewFriendLoaded ? _jsx(View, {\n      children: _jsx(View, {\n        children: _jsx(\"form\", {\n          onSubmit: requestSubmit,\n          children: _jsxs(\"label\", {\n            children: [_jsx(Text, {\n              children: \"\" + newFriend.name\n            }), _jsx(\"input\", {\n              type: \"submit\",\n              value: \"Add Friend\"\n            })]\n          })\n        })\n      })\n    }) : _jsx(\"span\", {\n      children: \"friend not found\"\n    }) : _jsx(\"div\", {})]\n  });\n};\n\nexport default AddFriend;","map":{"version":3,"names":["React","useEffect","useState","stylesFriend","findFriends","sendRequest","AddFriend","newFriend","setNewFriend","newFriendId","setNewFriendId","isNewFriendLoaded","setIsNewFriendLoaded","isFindFriendPressed","setIsFindFriendPressed","email","onChangeEmail","findSubmit","e","preventDefault","then","response","id","console","log","catch","error","requestSubmit","alert","input","event","target","value","name"],"sources":["/Users/apple/Documents/Programming/barBandNew/mobile/screens/friends/addFriend.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {View, TextInput, Text} from \"react-native\";\r\nimport {stylesFriend} from \"../../assets/stylesFriends\";\r\nimport {findFriends, sendRequest} from \"../../core/api/API\"\r\n\r\nconst AddFriend = () => {\r\n    const [newFriend, setNewFriend] = useState(null)\r\n    const [newFriendId, setNewFriendId] = useState(null)\r\n    const [isNewFriendLoaded, setIsNewFriendLoaded] = useState(false)\r\n    const [isFindFriendPressed, setIsFindFriendPressed] = useState(false)\r\n    const [email, onChangeEmail] = useState(\"\");\r\n\r\n    const findSubmit = (e) => {\r\n        e.preventDefault();\r\n        findFriends(email).then((response) => {\r\n            if (response === 0) {\r\n                setIsNewFriendLoaded(false)\r\n            } else {\r\n                setNewFriend(response)\r\n                setNewFriendId(response.id)\r\n                console.log(response);\r\n                setIsNewFriendLoaded(true)\r\n            }\r\n            setIsFindFriendPressed(true)\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    const requestSubmit = (e) => {\r\n        e.preventDefault();\r\n        sendRequest(newFriendId).then((response) => {\r\n            console.log(response);\r\n            alert(response);\r\n        }).catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    return (\r\n            <View>\r\n                <form onSubmit={findSubmit}>\r\n                    <View>\r\n                        <Text>Find Friend</Text>\r\n                        <TextInput style={stylesFriend.input} placeholder=\"Ivanov\" onChange={() => {onChangeEmail(event.target.value)}}/>\r\n                    </View>\r\n                    <input type=\"submit\" value=\"Find\"/>\r\n                </form>\r\n                {isFindFriendPressed ? isNewFriendLoaded ? <View>\r\n                    {\r\n                        <View>\r\n                            <form onSubmit={requestSubmit}>\r\n                                <label>\r\n                                    <Text>{`${newFriend.name}`}</Text>\r\n                                    <input type=\"submit\" value=\"Add Friend\"/>\r\n                                </label>\r\n                            </form>\r\n                        </View>\r\n                    }\r\n                </View> : <span>friend not found</span> : <div></div>}\r\n            </View>\r\n        )\r\n}\r\n\r\nexport default AddFriend\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;;;;AAEA,SAAQC,YAAR;AACA,SAAQC,WAAR,EAAqBC,WAArB;;;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;EACpB,gBAAkCJ,QAAQ,CAAC,IAAD,CAA1C;EAAA;EAAA,IAAOK,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAAsCN,QAAQ,CAAC,IAAD,CAA9C;EAAA;EAAA,IAAOO,WAAP;EAAA,IAAoBC,cAApB;;EACA,iBAAkDR,QAAQ,CAAC,KAAD,CAA1D;EAAA;EAAA,IAAOS,iBAAP;EAAA,IAA0BC,oBAA1B;;EACA,iBAAsDV,QAAQ,CAAC,KAAD,CAA9D;EAAA;EAAA,IAAOW,mBAAP;EAAA,IAA4BC,sBAA5B;;EACA,iBAA+BZ,QAAQ,CAAC,EAAD,CAAvC;EAAA;EAAA,IAAOa,KAAP;EAAA,IAAcC,aAAd;;EAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,CAAD,EAAO;IACtBA,CAAC,CAACC,cAAF;IACAf,WAAW,CAACW,KAAD,CAAX,CAAmBK,IAAnB,CAAwB,UAACC,QAAD,EAAc;MAClC,IAAIA,QAAQ,KAAK,CAAjB,EAAoB;QAChBT,oBAAoB,CAAC,KAAD,CAApB;MACH,CAFD,MAEO;QACHJ,YAAY,CAACa,QAAD,CAAZ;QACAX,cAAc,CAACW,QAAQ,CAACC,EAAV,CAAd;QACAC,OAAO,CAACC,GAAR,CAAYH,QAAZ;QACAT,oBAAoB,CAAC,IAAD,CAApB;MACH;;MACDE,sBAAsB,CAAC,IAAD,CAAtB;IACH,CAVD,EAUGW,KAVH,CAUS,UAAAC,KAAK,EAAI;MACdH,OAAO,CAACC,GAAR,CAAYE,KAAZ;IACH,CAZD;EAaH,CAfD;;EAiBA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACT,CAAD,EAAO;IACzBA,CAAC,CAACC,cAAF;IACAd,WAAW,CAACI,WAAD,CAAX,CAAyBW,IAAzB,CAA8B,UAACC,QAAD,EAAc;MACxCE,OAAO,CAACC,GAAR,CAAYH,QAAZ;MACAO,KAAK,CAACP,QAAD,CAAL;IACH,CAHD,EAGGI,KAHH,CAGS,UAAAC,KAAK,EAAI;MACdH,OAAO,CAACC,GAAR,CAAYE,KAAZ;IACH,CALD;EAMH,CARD;;EAUA,OACQ,MAAC,IAAD;IAAA,WACI;MAAM,QAAQ,EAAET,UAAhB;MAAA,WACI,MAAC,IAAD;QAAA,WACI,KAAC,IAAD;UAAA;QAAA,EADJ,EAEI,KAAC,SAAD;UAAW,KAAK,EAAEd,YAAY,CAAC0B,KAA/B;UAAsC,WAAW,EAAC,QAAlD;UAA2D,QAAQ,EAAE,oBAAM;YAACb,aAAa,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;UAAkC;QAA9G,EAFJ;MAAA,EADJ,EAKI;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B,EALJ;IAAA,EADJ,EAQKnB,mBAAmB,GAAGF,iBAAiB,GAAG,KAAC,IAAD;MAAA,UAEnC,KAAC,IAAD;QAAA,UACI;UAAM,QAAQ,EAAEgB,aAAhB;UAAA,UACI;YAAA,WACI,KAAC,IAAD;cAAA,eAAUpB,SAAS,CAAC0B;YAApB,EADJ,EAEI;cAAO,IAAI,EAAC,QAAZ;cAAqB,KAAK,EAAC;YAA3B,EAFJ;UAAA;QADJ;MADJ;IAFmC,EAAH,GAW9B;MAAA;IAAA,EAXU,GAWsB,eAnB9C;EAAA,EADR;AAuBH,CAzDD;;AA2DA,eAAe3B,SAAf"},"metadata":{},"sourceType":"module"}